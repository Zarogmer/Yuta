<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Central Sanport</title>
  <style>
    body{margin:0;background:#0b1220;color:#e8eefc;font-family:Arial,Helvetica,sans-serif}
    .wrap{max-width:720px;margin:24px auto;padding:16px}
    .card{background:#111a2e;border:1px solid #223055;border-radius:14px;padding:16px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    h1{margin:0 0 12px;font-size:20px}
    .sub{opacity:.75;margin:0 0 14px;font-size:13px}
    .grid{display:grid;gap:10px}
    button{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #2c3b66;
      background:#0f1b36; color:#e8eefc; cursor:pointer; text-align:left;
      font-size:14px; transition:transform .06s ease, background .15s ease;
    }
    button:hover{background:#12224a}
    button:active{transform:scale(.99)}
    .pill{display:inline-block;padding:4px 10px;border-radius:999px;background:#192a57;border:1px solid #2c3b66;font-size:12px;opacity:.9}
    pre{margin:12px 0 0;background:#050a14;border:1px solid #223055;border-radius:12px;padding:12px;overflow:auto}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="pill">üö¢ Central Sanport</div>
      <h1>Menu</h1>
      <p class="sub">Clique em uma op√ß√£o. Isso chama sua FastAPI e mostra a resposta abaixo.</p>

      <div id="botoes" class="grid"></div>

      <pre id="log">Carregando...</pre>
    </div>
  </div>

<script>
  const log = (x) => document.getElementById("log").textContent = x;

async function carregar() {
  try {
    log("Carregando menu...");
    const r = await fetch("http://127.0.0.1:8000/menu");

    if (!r.ok) {
      const t = await r.text();
      log("Erro HTTP: " + r.status + "\n" + t);
      return;
    }

    const j = await r.json();
    log("Menu carregado!");

    const div = document.getElementById("botoes");
    div.innerHTML = "";

    j.opcoes.forEach((nome, i) => {
      const b = document.createElement("button");
      b.textContent = "‚ñ∂ " + nome;
      b.onclick = () => executar(i);
      div.appendChild(b);
    });

    log("Pronto. Clique em uma op√ß√£o.");
  } catch (e) {
    log("Falhou no fetch (prov√°vel CORS / API desligada):\n" + e);
  }
}

  carregar();
</script>
</body>
</html>
